# Information about the code

## Folder contents
This folder contains 3 files and one sub-folder which contains a single file.

The files in this folder are:
	- get_pmids.sh
	- download_data.sh
	- extract_data.sh

The sub-folder utils contains the following file:
	- progress_bar.sh


## File contents
### utils/progress_bar.sh
This file is a shell script which defines a function to produce a progress bar for downloading the article data. The progress bar appears in the terminal like 'Progress: [###-------] 30.00%'.

### get_pmids.sh
This file is a shell script to download the PubMed article IDs (PMID) for long covid articles.
The shell script downloads an XML file and then extracts 6488 PMIDs and save them as a single column tab-seperated values file (TSV) in ../data/raw/pmids.tsv

### download_data.sh
This file is a shell script to download the PubMed long covid articles using the E-utilities API and the pmids.tsv file generated by the get_pmids.sh file.
The shell script loads 3 articles in parallel (as a batch) and has a 1 second pause between each batch download. Only 3 articles can be downloaded at a time as the E-utilities API has a limit of 3 requests per second.
The articles are then saved as XML files in ../data/raw/article-data-{pmid}.xml

### extract_data.sh
This is a shell script to extract the data of interest from the PubMed article XML files in ../data/raw/article-data-{pmid}.xml
The shell script uses the awk command to extract the values from the following XML tags:
  - PMID = <PMID>
  - Year = <PubDate><Year>
  - Article Title = <ArticleTitle>
  - Abstract = <AbstractText>
PMID is the PubMed ID, Year is the year the article is published, Article Title is the article's title, and Abstract is the article's abstract.
The shell script extracts the data from every article in parallel and saves it as a TSV file in ../data/clean/extracted_data.tsv
